<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<meta name="theme-color" content="#0a0010">
<title>Para Ali üíñ</title>

<link href="https://fonts.googleapis.com/css2?family=Pacifico&display=swap" rel="stylesheet">

<style>
*{box-sizing:border-box}

body{
  margin:0;
  font-family:Arial,sans-serif;
  color:#fff;
  overflow:hidden;
  -webkit-tap-highlight-color:transparent;
  display:flex;
  align-items:center;
  justify-content:center;
  min-height:100vh;
  background:radial-gradient(circle at bottom,#1a001a,#000);
  transition:background 1.2s ease;
}

/* FONDOS POR ESCENA */
body.stage-0{background:radial-gradient(circle at bottom,#1a001a,#000)}
body.stage-1{background:radial-gradient(circle at bottom,#220022,#05000a)}
body.stage-2{background:radial-gradient(circle at bottom,#24001a,#08000f)}
body.stage-3{background:radial-gradient(circle at bottom,#20001f,#0b0015)}
body.stage-4{background:radial-gradient(circle at bottom,#18001f,#0a0018)}
body.stage-5{background:radial-gradient(circle at bottom,#12001f,#080018)}
body.stage-6{background:radial-gradient(circle at bottom,#140022,#0a001a)}
body.stage-7{background:radial-gradient(circle at bottom,#1a0024,#0a001c)}
body.stage-8{background:radial-gradient(circle at bottom,#220028,#0b001f)}
body.stage-9{background:radial-gradient(circle at bottom,#2a0030,#0d0022)}
body.stage-final{background:radial-gradient(circle at bottom,#3a003f,#120028)}

/* ESTRELLAS */
.stars{position:fixed;width:100%;height:100%;z-index:0;}
.star{
  position:absolute;width:2px;height:2px;
  background:white;border-radius:50%;
  animation:twinkle 4s infinite;
}
@keyframes twinkle{0%,100%{opacity:.2}50%{opacity:1}}

/* CARD */
.card{
  position:relative;
  z-index:2;
  background:rgba(15,15,15,.95);
  border-radius:26px;
  padding:24px;
  width:92%;
  max-width:440px;
  box-shadow:0 25px 50px rgba(0,0,0,.7);
}

.card.heartbeat{
  animation:heartbeat 1s infinite;
}
@keyframes heartbeat{
  0%{transform:scale(1)}
  20%{transform:scale(1.03)}
  40%{transform:scale(1)}
  60%{transform:scale(1.05)}
  80%{transform:scale(1)}
  100%{transform:scale(1)}
}

img{
  width:100%;
  max-height:200px;
  object-fit:cover;
  border-radius:18px;
  margin-bottom:16px;
}

h1{
  color:#ff4d8d;
  font-size:23px;
  margin:6px 0 12px;
  text-align:center;
}

p{
  line-height:1.9;
  font-size:15.8px;
  text-align:center;
}

/* BOTONES */
button{
  width:100%;
  padding:16px;
  border-radius:20px;
  border:none;
  font-size:17px;
  background:#ff4d8d;
  color:#fff;
  font-weight:bold;
  margin-top:16px;
}

/* PROGRESO */
.progress{
  height:6px;
  background:#333;
  border-radius:10px;
  margin-bottom:14px;
}
.progress-bar{
  height:100%;
  background:#ff4d8d;
  width:0%;
  transition:.4s;
}

/* FLORES + CORAZONES (M√ÅS TIEMPO) */
.fall{
  position:fixed;
  bottom:-80px;
  font-size:40px;
  animation:float 22s linear forwards;
  pointer-events:none;
  z-index:1;
}
@keyframes float{
  from{transform:translateY(0) scale(1);opacity:1}
  to{transform:translateY(-230vh) scale(2.1);opacity:0}
}

/* FINAL */
.final-love{
  font-family:'Pacifico',cursive;
  font-size:56px;
  color:#ff7fb0;
  text-align:center;
  animation:pulse 2s infinite;
}
@keyframes pulse{
  0%,100%{transform:scale(1)}
  50%{transform:scale(1.14)}
}

/* MENSAJE SECRETO */
.secret{
  margin-top:22px;
  padding:18px;
  border-radius:18px;
  background:rgba(255,77,141,.12);
  font-size:14.8px;
  line-height:1.75;
  display:none;
  animation:fade .6s ease;
  text-align:center;
}
@keyframes fade{
  from{opacity:0;transform:translateY(12px)}
  to{opacity:1}
}

/* GALERIA */
.gallery{
  display:grid;
  grid-template-columns:repeat(2,1fr);
  gap:12px;
  margin-top:22px;
}
.gallery img{
  height:120px;
  border-radius:16px;
  opacity:0;
  transform:scale(.9);
  transition:.9s;
}
.gallery img.show{
  opacity:1;
  transform:scale(1);
}
</style>
</head>

<body class="stage-0">

<div class="stars" id="stars"></div>

<audio id="music" loop>
  <source src="IRIS.mp3" type="audio/mpeg">
</audio>

<div class="card" id="card">
  <div class="progress"><div class="progress-bar" id="progress"></div></div>
  <img id="image">
  <h1 id="title"></h1>
  <p id="text"></p>
  <div id="buttons"></div>
</div>

<script>
// ESTRELLAS
for(let i=0;i<180;i++){
 const s=document.createElement("div");
 s.className="star";
 s.style.top=Math.random()*100+"%";
 s.style.left=Math.random()*100+"%";
 s.style.animationDelay=Math.random()*4+"s";
 document.getElementById("stars").appendChild(s);
}

// FULLSCREEN
function goFullscreen(){
 const el=document.documentElement;
 if(el.requestFullscreen) el.requestFullscreen();
 else if(el.webkitRequestFullscreen) el.webkitRequestFullscreen();
}

// VIBRACI√ìN R√çTMICA (LATIDOS)
let vibrateTimer=null;
function startHeartbeatVibration(){
 if(!navigator.vibrate) return;
 stopHeartbeatVibration();
 vibrateTimer=setInterval(()=>{
   navigator.vibrate([40,60,40]); // latido doble suave
 }, heartbeatSpeed);
}
function stopHeartbeatVibration(){
 if(vibrateTimer){ clearInterval(vibrateTimer); vibrateTimer=null; }
}

// VIBRACI√ìN ESPECIAL ‚ÄúS√ç‚Äù
function vibrateYes(){
 if(navigator.vibrate){
  navigator.vibrate([80,120,80]);
 }
}

let step=0,musicStarted=false,heartbeatSpeed=1100,fs=false;
const music=document.getElementById("music");
const card=document.getElementById("card");

const scenes=[
{
 title:"Ali üíñ",
 text:"Quer√≠a hacerte algo distinto. No un mensaje r√°pido, sino un con el cu√°l te puedas conectar. Un lugar donde cada palabra tenga intenci√≥n y puedas leer sin prisa, como se sienten las cosas que importan.",
 img:"./Imagenes/830dfec071d68a08b82d48a7debc91a5.jpg",
 buttons:[{text:"Continuar üíå",next:1}]
},
{
 title:"Pensarte ‚ú®",
 text:"Apareces en mis pensamientos m√°s veces de las que imaginas. En canciones, en silencios largos, en momentos simples que de pronto se vuelven especiales solo porque tu nombre pasa por mi mente.",

 img:"Im√°genes/9a98c1fbae8d82227dcbf4e3e302e9d7.jpg",
 buttons:[{text:"Seguir leyendo ü§ç",next:2}]
},
{
 title:"Lo cotidiano üåô",
 text:"Me gusta pensarnos en lo cotidiano. En lo simple. En compartir miradas, mensajes sin motivo, risas inesperadas. En sentir que incluso lo normal se vuelve bonito cuando lo vivimos juntos.",
 img:"https://via.placeholder.com/400x220?text=Cotidiano",
 buttons:[{text:"Contin√∫a ‚ú®",next:3}]
},
{
 title:"Lo dif√≠cil ü§ç",
 text:"Tambi√©n hubo momentos dif√≠ciles. Silencios, dudas, aprendizajes. Y aun as√≠, eleg√≠ quedarme. Porque lo nuestro vale el esfuerzo, la paciencia y las ganas reales de seguir construyendo.",
 img:"https://via.placeholder.com/400x220?text=Aprender",
 buttons:[{text:"Sigo aqu√≠ üíû",next:4}]
},
{
 title:"Lo que siento üí´",
 text:"Lo que siento por ti no es solo emoci√≥n. Es cuidado, respeto y deseo de verte bien. Es elegirte con calma, sin prisa, con la certeza de que quiero caminar contigo.",
 img:"https://via.placeholder.com/400x220?text=Sentir",
 buttons:[{text:"Contin√∫a üíñ",next:5}]
},
{
 title:"Mi promesa üå∑",
 text:"No prometo perfecci√≥n, pero s√≠ sinceridad. No prometo que todo sea f√°cil, pero s√≠ ganas de resolverlo juntos. Prometo cuidarte mientras t√∫ quieras quedarte.",
 img:"https://via.placeholder.com/400x220?text=Promesa",
 buttons:[{text:"Sigue üíó",next:6}]
},
{
 title:"Peque√±os sue√±os üåå",
 text:"Sue√±o con momentos simples a tu lado. Con planes espont√°neos, con tardes tranquilas, con sentir que el futuro se construye en los detalles que compartimos hoy.",
 img:"https://via.placeholder.com/400x220?text=Suenos",
 buttons:[{text:"Un paso m√°s ‚ú®",next:7}]
},
{
 title:"Lo que elijo üíû",
 text:"Si pudiera resumirlo todo en una palabra, ser√≠a elegir. Elegirte hoy, elegirte ma√±ana, elegir crecer contigo sin perder lo que somos.",
 img:"https://via.placeholder.com/400x220?text=Elegir",
 buttons:[{text:"Contin√∫a üíò",next:8}]
},
{
 title:"Un deseo ‚ù§Ô∏è",
 text:"Mi deseo es sencillo y profundo: seguir compartiendo la vida contigo. Los d√≠as buenos, los no tan buenos, los abrazos largos y ese amor que se siente como hogar.",
 img:"https://via.placeholder.com/400x220?text=Deseo",
 buttons:[{text:"Un paso m√°s üíì",next:9}]
},
{
 title:"Ali‚Ä¶ üíì",
 text:"Ahora mismo mi coraz√≥n late un poco m√°s r√°pido. Porque quiero preguntarte algo importante, algo que nace desde lo m√°s honesto de m√≠‚Ä¶ ¬øTe gustar√≠a compartir este San Valent√≠n conmigo?",
 img:"https://via.placeholder.com/400x220?text=San+Valentin",
 buttons:[{text:"S√≠, quiero üíò",next:10,vibrate:true}]
},
{final:true}
];

// M√öSICA + LATIDOS
function startMusic(){
 if(!musicStarted){
  music.volume=.15;
  music.playbackRate=.75;
  music.play();
  musicStarted=true;
  slowRise();
  heartbeat();
 }
}

function slowRise(){
 let v=music.volume,r=music.playbackRate;
 const i=setInterval(()=>{
  if(v>=.65&&r>=1)clearInterval(i);
  if(v<.65)v+=.02;
  if(r<1)r+=.02;
  music.volume=v;
  music.playbackRate=r;
 },300);
}

function heartbeat(){
 setInterval(()=>{
  card.classList.remove("heartbeat");
  void card.offsetWidth;
  card.classList.add("heartbeat");
 },heartbeatSpeed);
 startHeartbeatVibration();
}

// LLUVIA FINAL (M√ÅS TIEMPO)
function rain(){
 const symbols=["üíñ","üå∑"];
 symbols.forEach(sym=>{
  for(let i=0;i<120;i++){ // menos elementos para que no queden tan pegados
   const f=document.createElement("div");
   f.className="fall";
   f.innerText=sym;
   f.style.left=Math.random()*90+"vw"; // para que no queden pegados a los bordes
   f.style.fontSize=(30+Math.random()*25)+"px"; // tama√±o variado
   f.style.animationDuration=(25+Math.random()*15)+"s"; // m√°s lento
   f.style.animationDelay=(Math.random()*10)+"s"; // que no caigan todos al mismo tiempo
   document.body.appendChild(f);
   setTimeout(()=>f.remove(),40000); // que duren m√°s en pantalla
  }
 });
}

// GALERIA
function revealGallery(){
 document.querySelectorAll(".gallery img").forEach((img,i)=>{
  setTimeout(()=>img.classList.add("show"),i*900);
 });
}

// RENDER
function render(){
 document.body.className = sClass(step);
 const s=scenes[step];
 const b=document.getElementById("buttons");
 b.innerHTML="";

 if(s.final){
  document.body.className="stage-final";
  heartbeatSpeed=650;
  startHeartbeatVibration();
  rain();
  music.volume=1;
  document.getElementById("image").style.display="none";
  document.getElementById("title").innerText="";
  document.getElementById("text").innerHTML=
  `<div class="final-love" id="love">Te amo, Ali üíñ</div>
   <div class="secret" id="secret">
    Este mensaje es solo para ti. Gracias por tu forma de ser, por tu cari√±o y por elegirnos. Siempre voy a elegirte.
   </div>
   <div class="gallery">
    <img src="Imagenes/IMG_20251225_220201_899.webp">
    <img src="Imagenes/file_00000000d94c61f5873c99213a92c50a (1)~2.png">
    <img src="Imagenes/IMG_20251219_211932_899~2.jpg">
    <img src="Imagenes/IMG-20260116-WA0015.jpg">
   </div>
   <div class="final-message" style="text-align:center; margin-top:18px; font-size:18px; line-height:1.5; color:#ffb6c1;">
     Gracias por existir en mi vida. Siempre voy a elegirte.
   </div>`;
  setTimeout(revealGallery,1200);

  const love=document.getElementById("love");
  const secret=document.getElementById("secret");
  let timer;
  love.addEventListener("touchstart",()=>{timer=setTimeout(()=>secret.style.display="block",800)});
  love.addEventListener("touchend",()=>clearTimeout(timer));
  return;
}


 document.getElementById("image").style.display="block";
 document.getElementById("image").src=s.img;
 document.getElementById("title").innerText=s.title;
 document.getElementById("text").innerText=s.text;

 s.buttons.forEach(btn=>{
  const el=document.createElement("button");
  el.innerText=btn.text;
  el.onclick=()=>{
   if(!fs){goFullscreen();fs=true;}
   if(btn.vibrate){ vibrateYes(); heartbeatSpeed=750; }
   startMusic();
   step=btn.next;
   document.getElementById("progress").style.width=(step/(scenes.length-1))*100+"%";
   render();
  };
  b.appendChild(el);
 });
}

function sClass(i){ return "stage-"+Math.min(i,9); }

render();
</script>
</body>
</html>



