<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<meta name="theme-color" content="#0a0010">
<title>Para Ali ðŸ’–</title>

<link href="https://fonts.googleapis.com/css2?family=Pacifico&display=swap" rel="stylesheet">

<style>
*{box-sizing:border-box}

body{
  margin:0;
  font-family:Arial,sans-serif;
  background:radial-gradient(circle at bottom,#1a001a,#000);
  color:#fff;
  overflow:hidden;
  -webkit-tap-highlight-color:transparent;
  display:flex;
  align-items:center;
  justify-content:center;
  min-height:100vh;
}

/* ESTRELLAS */
.stars{position:fixed;width:100%;height:100%;z-index:0;}
.star{
  position:absolute;width:2px;height:2px;
  background:white;border-radius:50%;
  animation:twinkle 4s infinite;
}
@keyframes twinkle{0%,100%{opacity:.2}50%{opacity:1}}

/* CARD */
.card{
  position:relative;
  z-index:2;
  background:rgba(15,15,15,.95);
  border-radius:24px;
  padding:22px;
  width:92%;
  max-width:430px;
  box-shadow:0 25px 50px rgba(0,0,0,.7);
}

.card.heartbeat{
  animation:heartbeat 1s infinite;
}
@keyframes heartbeat{
  0%{transform:scale(1)}
  20%{transform:scale(1.03)}
  40%{transform:scale(1)}
  60%{transform:scale(1.045)}
  80%{transform:scale(1)}
  100%{transform:scale(1)}
}

img{
  width:100%;
  max-height:200px;
  object-fit:cover;
  border-radius:18px;
  margin-bottom:16px;
}

h1{
  color:#ff4d8d;
  font-size:23px;
  margin:6px 0 12px;
  text-align:center;
}

p{
  line-height:1.85;
  font-size:15.5px;
  text-align:center;
}

/* BOTONES */
button{
  width:100%;
  padding:15px;
  border-radius:18px;
  border:none;
  font-size:17px;
  background:#ff4d8d;
  color:#fff;
  font-weight:bold;
  margin-top:14px;
}

/* PROGRESO */
.progress{
  height:6px;
  background:#333;
  border-radius:10px;
  margin-bottom:14px;
}
.progress-bar{
  height:100%;
  background:#ff4d8d;
  width:0%;
  transition:.4s;
}

/* FLORES */
.fall{
  position:fixed;
  bottom:-70px;
  font-size:38px;
  animation:float 16s linear forwards;
  pointer-events:none;
  z-index:1;
}
@keyframes float{
  from{transform:translateY(0) scale(1);opacity:1}
  to{transform:translateY(-200vh) scale(2);opacity:0}
}

/* FINAL */
.final-love{
  font-family:'Pacifico',cursive;
  font-size:54px;
  color:#ff7fb0;
  text-align:center;
  animation:pulse 2s infinite;
}
@keyframes pulse{
  0%,100%{transform:scale(1)}
  50%{transform:scale(1.12)}
}

/* MENSAJE SECRETO */
.secret{
  margin-top:20px;
  padding:18px;
  border-radius:18px;
  background:rgba(255,77,141,.12);
  font-size:14.5px;
  line-height:1.7;
  display:none;
  animation:fade .6s ease;
  text-align:center;
}
@keyframes fade{
  from{opacity:0;transform:translateY(12px)}
  to{opacity:1}
}

/* GALERIA */
.gallery{
  display:grid;
  grid-template-columns:repeat(2,1fr);
  gap:12px;
  margin-top:22px;
}
.gallery img{
  height:120px;
  border-radius:16px;
  opacity:0;
  transform:scale(.9);
  transition:.9s;
}
.gallery img.show{
  opacity:1;
  transform:scale(1);
}
</style>
</head>

<body>

<div class="stars" id="stars"></div>

<audio id="music" loop>
  <source src="IRIS.mp3" type="audio/mpeg">
</audio>

<div class="card" id="card">
  <div class="progress"><div class="progress-bar" id="progress"></div></div>
  <img id="image">
  <h1 id="title"></h1>
  <p id="text"></p>
  <div id="buttons"></div>
</div>

<script>
// ESTRELLAS
for(let i=0;i<170;i++){
 const s=document.createElement("div");
 s.className="star";
 s.style.top=Math.random()*100+"%";
 s.style.left=Math.random()*100+"%";
 s.style.animationDelay=Math.random()*4+"s";
 document.getElementById("stars").appendChild(s);
}

// FULLSCREEN
function goFullscreen(){
 const el=document.documentElement;
 if(el.requestFullscreen) el.requestFullscreen();
 else if(el.webkitRequestFullscreen) el.webkitRequestFullscreen();
}

// VIBRACIÃ“N
function vibrateYes(){
 if(navigator.vibrate){
  navigator.vibrate([80,120,80]);
 }
}

let step=0,musicStarted=false,heartbeatSpeed=1000,fs=false;
const music=document.getElementById("music");
const card=document.getElementById("card");

const scenes=[
{
 title:"Ali ðŸ’–",
 text:"QuerÃ­a regalarte algo distinto. Algo que no fuera solo un mensaje rÃ¡pido, sino un espacio creado con calma, donde cada palabra tuviera intenciÃ³n. Algo que pudieras leer despacio, sentir sin prisa y guardar como un pequeÃ±o recuerdo nuestro.",
 img:"https://via.placeholder.com/400x220?text=Ali",
 buttons:[{text:"Continuar ðŸ’Œ",next:1}]
},
{
 title:"Pensarte âœ¨",
 text:"Apareces en mis pensamientos mÃ¡s veces de las que imaginas. En canciones que no buscaba, en silencios largos, en momentos simples del dÃ­a que de pronto se vuelven especiales solo porque tu nombre cruza mi mente.",
 img:"https://via.placeholder.com/400x220?text=Recuerdos",
 buttons:[{text:"Seguir leyendo ðŸ¤",next:2}]
},
{
 title:"Lo cotidiano ðŸŒ™",
 text:"Me gusta pensarnos en lo cotidiano. En lo simple. En compartir miradas, mensajes sin motivo, risas inesperadas. En sentir que incluso lo normal se vuelve bonito cuando lo vivimos juntos.",
 img:"https://via.placeholder.com/400x220?text=Cotidiano",
 buttons:[{text:"ContinÃºa âœ¨",next:3}]
},
{
 title:"Lo difÃ­cil ðŸ¤",
 text:"TambiÃ©n hemos tenido momentos difÃ­ciles. Silencios, dudas, aprendizajes. Pero incluso ahÃ­, elegÃ­ quedarme. Porque lo nuestro vale el esfuerzo, la paciencia y las ganas de seguir construyendo.",
 img:"https://via.placeholder.com/400x220?text=Aprender",
 buttons:[{text:"Sigo aquÃ­ ðŸ’ž",next:4}]
},
{
 title:"Lo que siento ðŸ’«",
 text:"Lo que siento por ti no es solo emociÃ³n. Es calma, cuidado y deseo de verte bien. Es querer acompaÃ±arte, respetarte y crecer contigo, sin promesas vacÃ­as, solo con hechos.",
 img:"https://via.placeholder.com/400x220?text=Sentir",
 buttons:[{text:"ContinÃºa ðŸ’–",next:5}]
},
{
 title:"Mi promesa ðŸŒ·",
 text:"No prometo perfecciÃ³n, pero sÃ­ sinceridad. No prometo ausencia de problemas, pero sÃ­ ganas de resolverlos juntos. Prometo elegirte cada dÃ­a mientras tÃº quieras caminar a mi lado.",
 img:"https://via.placeholder.com/400x220?text=Promesa",
 buttons:[{text:"Sigue ðŸ’—",next:6}]
},
{
 title:"Un deseo â¤ï¸",
 text:"Mi deseo es sencillo y profundo al mismo tiempo: seguir compartiendo la vida contigo. Los dÃ­as buenos, los no tan buenos, los abrazos largos y ese amor que se siente como hogar.",
 img:"https://via.placeholder.com/400x220?text=Deseo",
 buttons:[{text:"Un paso mÃ¡s ðŸ’˜",next:7}]
},
{
 title:"Aliâ€¦ ðŸ’“",
 text:"Ahora mismo, mientras lees esto, mi corazÃ³n late un poco mÃ¡s rÃ¡pido. Porque quiero preguntarte algo importante, algo que nace desde lo mÃ¡s honesto de mÃ­â€¦ Â¿Te gustarÃ­a compartir este San ValentÃ­n conmigo?",
 img:"https://via.placeholder.com/400x220?text=San+Valentin",
 buttons:[{text:"SÃ­, quiero ðŸ’˜",next:8,vibrate:true}]
},
{final:true}
];

// MÃšSICA
function startMusic(){
 if(!musicStarted){
  music.volume=.15;
  music.playbackRate=.75;
  music.play();
  musicStarted=true;
  slowRise();
  heartbeat();
 }
}

function slowRise(){
 let v=music.volume,r=music.playbackRate;
 const i=setInterval(()=>{
  if(v>=.6&&r>=1)clearInterval(i);
  if(v<.6)v+=.02;
  if(r<1)r+=.02;
  music.volume=v;
  music.playbackRate=r;
 },300);
}

function heartbeat(){
 setInterval(()=>{
  card.classList.remove("heartbeat");
  void card.offsetWidth;
  card.classList.add("heartbeat");
 },heartbeatSpeed);
}

// LLUVIA
function rain(){
 ["ðŸ’–","ðŸŒ·"].forEach(sym=>{
  for(let i=0;i<130;i++){
   const f=document.createElement("div");
   f.className="fall";
   f.innerText=sym;
   f.style.left=Math.random()*100+"vw";
   f.style.animationDuration=(14+Math.random()*6)+"s";
   document.body.appendChild(f);
   setTimeout(()=>f.remove(),20000);
  }
 });
}

// GALERIA
function revealGallery(){
 document.querySelectorAll(".gallery img").forEach((img,i)=>{
  setTimeout(()=>img.classList.add("show"),i*900);
 });
}

// RENDER
function render(){
 const s=scenes[step];
 const b=document.getElementById("buttons");
 b.innerHTML="";

 if(s.final){
  heartbeatSpeed=600;
  rain();
  music.volume=1;
  document.getElementById("image").style.display="none";
  document.getElementById("title").innerText="";
  document.getElementById("text").innerHTML=
  `<div class="final-love" id="love">Te amo, Ali ðŸ’–</div>
   <div class="secret" id="secret">
    Este mensaje es solo para ti. Gracias por tu forma de ser, por tu cariÃ±o y por todo lo que compartimos. Gracias por elegirme. Siempre voy a elegirte.
   </div>
   <div class="gallery">
    <img src="imagenes/recuerdo1.jpg">
    <img src="imagenes/recuerdo2.jpg">
    <img src="imagenes/recuerdo3.jpg">
    <img src="imagenes/recuerdo4.jpg">
   </div>`;
  setTimeout(revealGallery,1200);

  const love=document.getElementById("love");
  const secret=document.getElementById("secret");
  let timer;
  love.addEventListener("touchstart",()=>{timer=setTimeout(()=>secret.style.display="block",800)});
  love.addEventListener("touchend",()=>clearTimeout(timer));
  return;
 }

 document.getElementById("image").style.display="block";
 document.getElementById("image").src=s.img;
 document.getElementById("title").innerText=s.title;
 document.getElementById("text").innerText=s.text;

 s.buttons.forEach(btn=>{
  const el=document.createElement("button");
  el.innerText=btn.text;
  el.onclick=()=>{
   if(!fs){goFullscreen();fs=true;}
   if(btn.vibrate) vibrateYes();
   startMusic();
   step=btn.next;
   document.getElementById("progress").style.width=(step/(scenes.length-1))*100+"%";
   render();
  };
  b.appendChild(el);
 });
}

render();
</script>
</body>
</html>








